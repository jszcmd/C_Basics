// (一).字符指针
// (二).指针数组
// (三).数组指针
// (四).数组参数和指针参数
// (五).函数指针
// (六).函数指针数组
// (七).指向函数指针数组的指针
// (八).回调函数
// (九).指针和数组面试题目的解析

// ##########################################################
// (七).指向函数指针数组的指针
// ##########################################################

#include <stdio.h>

// 定义四个简单的数学运算函数
int add1(int x, int y) { return x + y; }
int sub1(int x, int y) { return x - y; }
int mul1(int x, int y) { return x * y; }
int div1(int x, int y) { return x / y; }

int main1()
{
    // 函数指针数组 - 存储多个函数指针的数组
    // pfArr是一个数组,包含4个函数指针,每个指针指向返回int、接受两个int参数的函数
    int (*pfArr[])(int, int) = {add1, sub1, mul1, div1};

    // 指向函数指针数组的指针
    // p是一个指针,指向包含4个函数指针的数组
    // 解读:(*p)说明p是一个指针,(*p)[4]说明p指向一个大小为4的数组
    // int (*)(int, int) 说明数组的每个元素都是函数指针类型
    int (*(*p)[4])(int, int) = &pfArr; // 修正：改为4个元素

    // 测试：通过指针调用函数
    printf("通过函数指针数组指针调用：\n");
    printf("add1(10, 5) = %d\n", (*p)[0](10, 5)); // 调用add1函数
    printf("sub1(10, 5) = %d\n", (*p)[1](10, 5)); // 调用sub1函数
    printf("mul1(10, 5) = %d\n", (*p)[2](10, 5)); // 调用mul1函数
    printf("div1(10, 5) = %d\n", (*p)[3](10, 5)); // 调用div1函数

    return 0;
}
